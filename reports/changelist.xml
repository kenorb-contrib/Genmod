<GMReport access="PRIV_USER" icon="place">
	<!-- $Id: changelist.xml,v 1.2 2009/01/03 06:47:17 sjouke Exp $ -->
	<GMRTitle><GMRvar var="gm_lang[changes_report]" /></GMRTitle>
	<GMRDescription>Prints a list of individuals matching specific change criteria</GMRDescription>
	<GMRInput name="changeRangeStart" lookup="DATE" type="text" default="NOW-30"><GMRvar var="gm_lang[changedate2]" /></GMRInput>
	<GMRInput name="changeRangeEnd" lookup="DATE" type="text" default="NOW"><GMRvar var="gm_lang[changedate1]" /></GMRInput>
	<GMRInput name="sortby" type="select" options="CHAN,NAME,BIRT,ID"><GMRvar var="gm_lang[sort_by]" /></GMRInput>
	<GMRInput name="section" type="select" options="all_sections,review_changes_block,recent_changes_block"><GMRvar var="gm_lang[show_sections]" /></GMRInput>
	<GMRInput name="showIndID" type="checkbox" default="SHOW_ID_NUMBERS"><GMRvar var="gm_lang[SHOW_ID_NUMBERS]" /></GMRInput>
	<GMRInput name="showFamID" type="checkbox" default="SHOW_FAM_ID_NUMBERS"><GMRvar var="gm_lang[SHOW_FAM_ID_NUMBERS]" /></GMRInput>
	<GMRInput name="pageSize" type="select" options="AVAIL_PAGE_SIZES" default="DEFAULT_PAGE_SIZE"><GMRvar var="gm_lang[page_size]" /></GMRInput>
	<GMRStyle name="header" font="LucidaSansUnicode" size="16" style="b" />
	<GMRStyle name="header2" font="LucidaSansUnicode" size="12" style="b" />
	<GMRStyle name="pagenum" font="LucidaSansUnicode" size="8" style="" />
	<GMRStyle name="text" font="LucidaSansUnicode" size="9" style="" />
	<GMRStyle name="label" font="LucidaSansUnicode" size="10" style="b" />
	<GMRDoc pageSize="$pageSize" orientation="P" margin="24">
		<GMRHeader>
			<GMRCell width="0" height="20" align="center" style="header"><GMRvar var="gm_lang[changes_report]" /></GMRCell>
			<!-- GMRCell width="0" height="10" align="right" style="pagenum"><GMRvar var="gm_lang[page]" /> <GMRPageNum /> <GMRvar var="gm_lang[of]" /> <GMRTotalPages /> - <GMRNow /></GMRCell -->
			<GMRTextBox width="50%" height="10" border="0">
				<GMRText style="pagenum"><GMRNow /></GMRText>
			</GMRTextBox>
			<GMRTextBox width="0" height="10" border="0" newline="1">
				<GMRText style="pagenum" align="right"><GMRvar var="gm_lang[page]" /> <GMRPageNum /> <GMRvar var="gm_lang[of]" /> <GMRTotalPages /></GMRText>
			</GMRTextBox>
		</GMRHeader>
		<GMRBody>
			<!-- pending changes section -->
			<GMRif condition="$section=='all_sections' || $section=='allsections' || $section=='review_changes_block' || $section=='reviewchangesblock'">
				<GMRCell width="0" height="20" align="center" style="header2"><GMRvar var="gm_lang[review_changes_block]" /></GMRCell>
				<GMRTextBox width="200" height="12" border="1">
					<GMRText style="label"><GMRvar var="gm_lang[name]" /></GMRText>
				</GMRTextBox>
				<GMRTextBox width="190" height="12" border="1">
					<GMRText style="label"><GMRvar var="gm_lang[differences]" /></GMRText>
				</GMRTextBox>
				<GMRTextBox width="0" height="12" border="1" newline="1">
					<GMRText style="label"><GMRvar var="factarray[CHAN]" /></GMRText>
				</GMRTextBox>
				<GMRList list="pending" sortby="$sortby">
					<GMRTextBox width="200" height="12" border="0">
						<GMRText style="text">
							<GMRif condition="substr(@ID,0,1)=='F'">
								<GMRGetPersonName id="@HUSB" hideID="true" />+<GMRGetPersonName id="@WIFE" hideID="true" /><GMRif condition="$showFamID"> (<GMRGedcomValue tag="@id" />)</GMRif>
							</GMRif>
							<GMRif condition="substr(@ID,0,1)!='F'">
								<GMRGetPersonName id="" />
							</GMRif>
						</GMRText>
					</GMRTextBox>
					<GMRTextBox width="190" height="12" border="0">
						<GMRFacts ignore="CHAN" families="0" diff="true">
							<GMRText style="text">
								<GMRvar var="factarray[@fact]" /> <GMRGedcomValue tag="@fact:DATE" /><br />
							</GMRText>
						</GMRFacts>
					</GMRTextBox>
					<GMRTextBox width="0" height="12" border="0" newline="1">
						<GMRText style="text"><GMRGedcomValue tag="CHAN:DATE" changed="1" /> <GMRGedcomValue tag="CHAN:DATE:TIME" changed="1" /> - <GMRGedcomValue tag="CHAN:_GMU" changed="1" /></GMRText>
					</GMRTextBox>
				</GMRList>
				<GMRCell width="0" height="25" border="0" align="right" style="label">
					<GMRvar var="gm_lang[changes_pending_tot]" /><GMRListTotal /><br />
				</GMRCell>
			</GMRif>
			<!-- newpage if all sections -->
			<GMRif condition="$section=='all_sections' || $section=='allsections'">
				<GMRNewPage />
			</GMRif>
			<!-- Recent Changes Section -->
			<GMRif condition="$section=='all_sections' ||$section=='allsections' || $section=='recent_changes_block' || $section=='recentchangesblock'">
				<GMRCell width="0" height="20" align="center" style="header2"><GMRvar var="gm_lang[recent_changes_block]" /> <GMRvar var="changeRangeStart" date="1" /> - <GMRvar var="changeRangeEnd" date="1" /></GMRCell>
				<GMRTextBox width="200" height="12" border="1">
					<GMRText style="label"><GMRvar var="gm_lang[name]" /></GMRText>
				</GMRTextBox>
				<GMRTextBox width="190" height="12" border="1">
					<GMRText style="label"><GMRvar var="factarray[BIRT]" /> - <GMRvar var="factarray[DEAT]" /></GMRText>
				</GMRTextBox>
				<GMRTextBox width="0" height="12" border="1" newline="1">
					<GMRText style="label"><GMRvar var="factarray[CHAN]" /></GMRText>
				</GMRTextBox>
				<GMRList list="individual" filter1="CHAN:DATE LTE $changeRangeEnd" filter2="CHAN:DATE GTE $changeRangeStart" sortby="$sortby">
					<GMRTextBox width="200" height="12" border="0">
						<GMRText style="text"><GMRGetPersonName id="" /></GMRText>
					</GMRTextBox>
					<GMRTextBox width="190" height="12" border="0">
						<GMRText style="text"><GMRvarLetter var="factarray[BIRT]" />: <GMRGedcomValue tag="BIRT:DATE" /> - <GMRvarLetter var="factarray[DEAT]" />: <GMRGedcomValue tag="DEAT:DATE" /></GMRText>
					</GMRTextBox>
					<GMRTextBox width="0" height="12" border="0" newline="1">
						<GMRText style="text"><GMRGedcomValue tag="CHAN:DATE" /> <GMRGedcomValue tag="CHAN:DATE:TIME" /> - <GMRGedcomValue tag="CHAN:_GMU" /></GMRText>
					</GMRTextBox>
				</GMRList>
				<GMRCell width="0" height="25" border="0" align="right" style="label">
					<GMRvar var="gm_lang[changes_accepted_tot]" /><GMRListTotal />
				</GMRCell>
			</GMRif>
		</GMRBody>
	</GMRDoc>
</GMReport>
